"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}!function(){angular.module("app",["ngAnimate","ngMaterial","ngMessages","ui.router"])}(),angular.module("app").run(["$templateCache",function(t){t.put("drCell/drCell.html",'<div class="cell" ng-class="c.returnCellClass()">\n\t<!--<div class="cell__type" ng-bind="c.type"></div>-->\n\t<div class="cell__fig"></div>\n</div>\n'),t.put("drDashboard/drDashboard.html",'<div class="dashboard">\n\t<div class="dashboard__row">\n\t\t<div class="dashboard__label">Последние удалённые элементы</div>\n\t\t<div class="dashboard__val">\n\t\t\t<ul>\n\t\t\t\t<li ng-repeat="item in db.points.lastDel track by $index" ng-bind="item"></li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\t<div class="dashboard__row">\n\t\t<div class="dashboard__label">Очки за последний ход</div>\n\t\t<div class="dashboard__val" ng-bind="db.points.lastPoints"></div>\n\t</div>\n\t<div class="dashboard__row">\n\t\t<div class="dashboard__label">Общее количество очков</div>\n\t\t<div class="dashboard__val" ng-bind="db.points.allPoints"></div>\n\t</div>\n</div>'),t.put("drField/drField.html","<ul class=\"cell-list\"ng-style=\"{'width': cf.size*60 + 'px', 'height': cf.size*60 + 'px'}\">\n\t<li class=\"cell-list__item\"\n\t\tng-repeat=\"(idx, cell) in cf.cells track by cell.id\"\n\t\tng-style=\"{'left': cell.col*60 + 'px', 'top': cell.row*60 + 'px'}\"\n\t\tng-click=\"cf.cellCLick($event, cell, idx)\">\n\n\t\t<dr-cell type=\"{{cell.type}}\" state=\"{{cell.state}}\"></dr-cell>\n\n\t</li>\n</ul>"),t.put("drMenu/drMenu.html",'<div class="menu">\n\t<div class="menu__title">Новая игра</div>\n\t<ul class="menu-list">\n\t\t<li class="menu-list__item">\n\t\t\t<a href="" ng-click="m.newGame($event, 5)">5x5</a>\n\t\t</li>\n\t\t<li class="menu-list__item">\n\t\t\t<a href="" ng-click="m.newGame($event, 7)">7x7</a>\n\t\t</li>\n\t\t<li class="menu-list__item">\n\t\t\t<a href="" ng-click="m.newGame($event, 9)">9x9</a>\n\t\t</li>\n\t\t<li class="menu-list__item">\n\t\t\t<a href="" ng-click="m.newGame($event, 11)">11x11</a>\n\t\t</li>\n\t</ul>\n</div>')}]),function(){function t(t,e,n,l,i,r,a){this.$scope=t,this.$http=e,this.$state=n,this.drFieldService=a,this.points=a.points,this.drFiledFactory=r,this.cellState="square",this.init()}angular.module("app").controller("mainCtrl",t),t.prototype.init=function(){},t.$inject=["$scope","$http","$state","$stateParams","$timeout","drFiledFactory","drFieldService"]}();var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,n,l){return n&&t(e.prototype,n),l&&t(e,l),e}}();!function(){angular.module("app").directive("drCell",["$templateCache",function(e){function n(t,e,n,l){}return{link:n,restrict:"AEC",scope:{},template:e.get("drCell/drCell.html"),controller:t,controllerAs:"c",bindToController:{type:"@?",state:"@?"}}}]);var t=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,[{key:"returnCellClass",value:function(){var t="cell_type-"+(this.type||"square"),e="cell_state-"+(this.state||"default");return[t,e]}}]),t}();t.$inject=["$scope","$timeout"]}(),function(){angular.module("app").directive("drDashboard",["$templateCache",function(e){function n(t,e,n,l){}return{link:n,restrict:"AEC",scope:{},template:e.get("drDashboard/drDashboard.html"),controller:t,controllerAs:"db",bindToController:{}}}]);var t=function e(t,n,l){_classCallCheck(this,e),this.points=l.points};t.$inject=["$scope","$timeout","drFieldService"]}();var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,n,l){return n&&t(e.prototype,n),l&&t(e,l),e}}();!function(){angular.module("app").directive("drField",["$templateCache",function(e){function n(t,e,n,l){}return{link:n,restrict:"AEC",scope:{},template:e.get("drField/drField.html"),controller:t,controllerAs:"cf",bindToController:{cellClick:"=?",size:"=?",ctx:"=?"}}}]);var t=function(){function t(e,n,l,i){_classCallCheck(this,t),this.drFieldService=e,this.drFiledFactory=n,this.size&&(this.drFiledFactory.size=this.size),this.$scope=l,this.init()}return _createClass(t,[{key:"init",value:function(){this.cells=this.drFieldService.createNewArr(this.size)}},{key:"cellCLick",value:function(t,e,n){t.preventDefault(),t.stopPropagation(),"default"===e.state?(this.activeCellIdx=n,this.drFieldService.setActiveCell(n,!0)):"passive"===e.state?this.drFieldService.replaceElements(this.activeCellIdx,n):"active"===e.state&&(this.activeCellIdx=void 0,this.drFieldService.setActiveCell(n,!1))}}]),t}();t.$inject=["drFieldService","drFiledFactory","$scope","$timeout"]}(),function(){angular.module("app").service("drFieldService",["drFiledFactory","$timeout",function(t,e){function n(t,e){return t.row!==e.row?t.row-e.row:t.row===e.row?t.col-e.col:void 0}function l(t){var e=Math.floor(Math.random()*t.length);return t[e]}function i(e){for(var n=angular.copy(t.types),i=0;i<e.length;i+=1)for(var r=0;r<n.length;r+=1)e[i]===n[r]&&n.splice(r,1);return l(n)}function r(){for(var t=0;t<C.length;t+=1)C[t].col=t%m.size,C[t].row=Math.floor(t/m.size)}function a(e){var n=s(e),r=n.length?i(n):l(t.types);return r||"square"}function s(t){var e=m.size,n=[],l=C.length%e;l>1&&C[C.length-2].type===C[C.length-1].type&&n.push(C[C.length-1].type);var i=Math.floor(C.length/e);return i>1&&C[C.length-e].type===C[C.length-2*e].type&&n.push(C[C.length-e].type),t-Math.floor(t/e)*e>1&&C[t-1]&&C[t-2]&&C[t-1].type===C[t-2].type&&n.push(C[t-1].type),Math.ceil(t/e)*e-t>1&&C[t+1]&&C[t+2]&&C[t+1].type===C[t+2].type&&n.push(C[t+1].type),Math.ceil(t/e)>2&&C[t-e]&&C[t-2*e]&&C[t-e].type===C[t-2*e].type&&n.push(C[t-e].type),e-Math.ceil(t/e)>2&&C[t+e]&&C[t+2*e]&&C[t+e].type===C[t+2*e].type&&n.push(C[t+e].type),t-Math.floor(t/e)*e>0&&Math.ceil(t/e)*e-t>0&&C[t-1]&&C[t+1]&&C[t-1].type===C[t+1].type&&n.push(C[t-1].type),Math.ceil(t/e)>1&&e-Math.ceil(t/e)>1&&C[t-e]&&C[t+e]&&C[t-e].type===C[t+e].type&&n.push(C[t-e].type),n}function o(t){for(var e=m.size,n=0;n<C.length;n+=e){for(var l=[n],i=C[n].type,r=1;r<e;r+=1)if("empty"!==C[n+r].type&&i===C[n+r].type)l.push(n+r);else{if(l.length>2)break;l.length=0,l.push(n+r),i=C[n+r].type}l.length>2&&t.push({length:l.length,type:i,idxArr:angular.copy(l)}),l.length=0}}function c(t){for(var e=m.size,n=0;n<e;n+=1){for(var l=[n],i=C[n].type,r=1;r<e;r+=1)if("empty"!==C[n+r*e].type&&i===C[n+r*e].type)l.push(n+r*e);else{if(l.length>2)break;l.length=0,l.push(n+r*e),i=C[n+r*e].type}l.length>2&&t.push({length:l.length,type:i,idxArr:angular.copy(l)}),l.length=0}}function u(t,n){var l={col1:C[t].col,row1:C[t].row,col2:C[n].col,row2:C[n].row};C[t].col=l.col2,C[t].row=l.row2,e(function(){C[n].col=l.col1,C[n].row=l.row1},200)}function d(){for(var t=function(t){"empty"===C[t].type&&(C[t].type=a(t),C[t].state="new",e(function(){C[t].state="default"},500))},n=0;n<C.length;n+=1)t(n)}function h(){var t=[];o(t),c(t),t&&t.length>1&&y(t);for(var l=0;l<C.length;l+=1)C[l].state="default";if(!t.length){for(var i=!1,r=0;r<C.length;r+=1)if("empty"===C[r].type){i=!0;break}return i&&e(function(){d(),e(function(){C.sort(n),h()},500)},500),!1}e(function(){p(t),f(t),e(function(){g(t),v(),C.sort(n),h()},500)},250)}function p(t){for(var e=0;e<t.length;e+=1)for(var n=t[e],l=0;l<n.idxArr.length;l+=1)C[n.idxArr[l]].state="delete"}function f(e){m.points.lastDel.length=0;for(var n=0;n<e.length;n+=1){var l=e[n].type,i=t.pointsMap[l]*e[n].length;m.points.lastPoints=i,m.points.allPoints+=i,m.points.lastDel.push(e[n].length+" "+l)}}function v(){for(var t=m.size,e=0,n=0;e<t;e+=1){for(var l=t-1;l>=0;l-=1)"empty"!==C[e+l*t].type?n>0&&(C[e+l*t].row+=+n):(C[e+l*t].toRow=n,C[e+l*t].row=n,n++);n=0}}function g(t){for(var e=0;e<t.length;e+=1){for(var n=t[e],l=0;l<n.idxArr.length;l+=1)C[n.idxArr[l]].type="empty";for(var i=0;i<C.length;i+=1)C[i].state="default"}}function y(t){t:for(var e=0;e<t.length;e+=1)for(var n=t[e],l=n.length,i=0;i<n.idxArr.length;i+=1){var r=n.idxArr[i];if(e<t.length-1)for(var a=e+1;a<t.length;a+=1){var s=t[a],o=s.length;if(!~s.idxArr.indexOf(r))if(l>o)t.splice(a,1);else{if(l<o){t.splice(e,1),e--;continue t}l===o&&t.splice(a,1)}}}}var m=this;this.matrixModel=[];var C=this.matrixModel;this.points={lastDel:[],lastPoints:0,allPoints:0},this.reset=function(){this.points.lastDel.length=0,this.points.lastPoints=0,this.points.allPoints=0},this.createNewArr=function(e){C.length=0,this.size=e||t.size;for(var n=0;n<e*e;n++){var l=a();C.push({id:n,type:l,state:"default"})}return r(),C},this.setActiveCell=function(t,e){for(var n=0;n<C.length;n+=1)C[n].state="default";C[t].state=e?"active":"default";var l=Math.floor(t/m.size),i=t-Math.floor(t/m.size)*m.size,r=e?"passive":"default";i>0&&i<m.size-1?(C[t-1].state=r,C[t+1].state=r):0===i?C[t+1].state=r:i===m.size-1&&(C[t-1].state=r),l>0&&l<m.size-1?(C[t-m.size].state=r,C[t+m.size].state=r):0===l?C[t+m.size].state=r:l===m.size-1&&(C[t-m.size].state=r)},this.replaceElements=function(t,l){u(t,l),e(function(){C.sort(n),h()},200)}}])}(),function(){angular.module("app").factory("drFiledFactory",function(){var t=["square","circle","triangle"],e=["default","active","passive","note"],n={square:10,triangle:20,circle:30},l=9;return{types:t,states:e,size:l,pointsMap:n}})}();var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,n,l){return n&&t(e.prototype,n),l&&t(e,l),e}}();!function(){angular.module("app").directive("drMenu",["$templateCache",function(e){function n(t,e,n,l){}return{link:n,restrict:"AEC",scope:{},template:e.get("drMenu/drMenu.html"),controller:t,controllerAs:"m",bindToController:{}}}]);var t=function(){function t(e,n,l,i){_classCallCheck(this,t),this.drFiledFactory=l,this.drFieldService=i}return _createClass(t,[{key:"newGame",value:function(t,e){t.preventDefault(),t.stopPropagation(),this.drFiledFactory.size=e,this.drFieldService.createNewArr(e),this.drFieldService.reset()}}]),t}();t.$inject=["$scope","$timeout","drFiledFactory","drFieldService"]}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiYW5ndWxhciIsIm1vZHVsZSIsInJ1biIsIiR0ZW1wbGF0ZUNhY2hlIiwicHV0IiwibWFpbkN0cmwiLCIkc2NvcGUiLCIkaHR0cCIsIiRzdGF0ZSIsIiRzdGF0ZVBhcmFtcyIsIiR0aW1lb3V0IiwiZHJGaWxlZEZhY3RvcnkiLCJkckZpZWxkU2VydmljZSIsInRoaXMiLCJwb2ludHMiLCJjZWxsU3RhdGUiLCJpbml0IiwiY29udHJvbGxlciIsInByb3RvdHlwZSIsIiRpbmplY3QiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiZGlyZWN0aXZlIiwiZHJDZWxsTGluayIsIiRlbGVtZW50IiwiJGF0dHJzIiwibGluayIsInJlc3RyaWN0Iiwic2NvcGUiLCJ0ZW1wbGF0ZSIsImdldCIsImRyQ2VsbEN0cmwiLCJjb250cm9sbGVyQXMiLCJiaW5kVG9Db250cm9sbGVyIiwidHlwZSIsInN0YXRlIiwidmFsdWUiLCJkckRhc2hib2FyZExpbmsiLCJkckRhc2hib2FyZEN0cmwiLCJkckZpZWxkTGluayIsImRyRmllbGRDdHJsIiwiY2VsbENsaWNrIiwic2l6ZSIsImN0eCIsImNlbGxzIiwiY3JlYXRlTmV3QXJyIiwiZSIsImNlbGwiLCJpZHgiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImFjdGl2ZUNlbGxJZHgiLCJzZXRBY3RpdmVDZWxsIiwicmVwbGFjZUVsZW1lbnRzIiwidW5kZWZpbmVkIiwic2VydmljZSIsInNvcnRBcnJCeVJvd0NvbCIsImEiLCJiIiwicm93IiwiY29sIiwicmV0dXJuUmFuZEVsZW1lbnQiLCJhcnIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyZXR1cm5Bbm90aGVyVHlwZSIsInJlcGVhdFR5cGVzIiwibmV3QXJyIiwiY29weSIsInR5cGVzIiwiaiIsInNwbGljZSIsInNldENvb3Jkc1RvRWxlbWVudHMiLCJfbW0iLCJfc2VsZiIsInJldHVyblR5cGVGb3JOZXdFbGVtZW50IiwiY2hlY2tEdXBlIiwicyIsInJlc3VsdCIsImNvbElkeCIsInB1c2giLCJyb3dJZHgiLCJjZWlsIiwiY291bnRSZXBlYXRJblJvdyIsImRlbElkeEFyciIsImN1cnJlbnRUeXBlIiwiaWR4QXJyIiwiY291bnRSZXBlYXRJbkNvbCIsInNoaWZ0VG9FbCIsImlkeDEiLCJpZHgyIiwidGVtcCIsImNvbDEiLCJyb3cxIiwiY29sMiIsInJvdzIiLCJnZW5lcmF0ZU5ld0VsIiwiX2xvb3AiLCJyZWN1ckRlbGV0ZUVsIiwiY2hlY2tDcm9zc2luZ0xpbmVzIiwibWFya2VyIiwic29ydCIsIm1hcmtEZWxldGVFbCIsImNhbGN1bGF0ZVBvaW50c0luZm8iLCJkZWxldGVFbGVtZW50cyIsIm1vdmVUb3BFbCIsIm9iaiIsImxhc3REZWwiLCJwb2ludHNNYXAiLCJsYXN0UG9pbnRzIiwiYWxsUG9pbnRzIiwic2hpZnRDb3VudCIsInRvUm93IiwiZGVsQXJyIiwibGluZSIsIl9qIiwibmV4dCIsImsiLCJsaW5lMiIsImxlbmd0aDIiLCJpbmRleE9mIiwibWF0cml4TW9kZWwiLCJyZXNldCIsImlkIiwiY1N0YXRlIiwiZmFjdG9yeSIsInN0YXRlcyIsInNxdWFyZSIsInRyaWFuZ2xlIiwiY2lyY2xlIiwiZHJNZW51TGluayIsImRyTWVudUN0cmwiXSwibWFwcGluZ3MiOiJBQUFBLFlBMENBLFNBQVNBLGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQStDaEgsUUFBU0gsaUJBQWdCQyxFQUFVQyxHQUFlLEtB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QUFZQyxHQUFpSixNQUE5SEQsSUFBWVosRUFBaUJ2QixFQUFZb0IsVUFBV2UsR0FBaUJDLEdBQWFiLEVBQWlCdkIsRUFBYW9DLEdBQXFCcEMsT0FJaGlCLFdBQ0NFLFFBQVFDLE9BQU8sT0FBT2tDLFVBQVUsVUFBVyxpQkFBa0IsU0FBVWhDLEdBQ3RFLFFBQVM2SSxHQUFXMUksRUFBUStCLEVBQVVDLEVBQVE1QixJQUU5QyxPQUNDNkIsS0FBTXlHLEVBQ054RyxTQUFVLE1BQ1ZDLFNBQ0FDLFNBQVV2QyxFQUFld0MsSUFBSSxzQkFDN0IxQixXQUFZZ0ksRUFDWnBHLGFBQWMsSUFDZEMsdUJBSUYsSUFBSW1HLEdBQWEsV0FDaEIsUUFBU0EsR0FBVzNJLEVBQVFJLEVBQVVDLEVBQWdCQyxHQUNyRGhCLGdCQUFnQmlCLEtBQU1vSSxHQUV0QnBJLEtBQUtGLGVBQWlCQSxFQUN0QkUsS0FBS0QsZUFBaUJBLEVBY3ZCLE1BWEFRLGNBQWE2SCxJQUNaakgsSUFBSyxVQUNMaUIsTUFBTyxTQUFpQlUsRUFBR0osR0FDMUJJLEVBQUVHLGlCQUNGSCxFQUFFSSxrQkFDRmxELEtBQUtGLGVBQWU0QyxLQUFPQSxFQUMzQjFDLEtBQUtELGVBQWU4QyxhQUFhSCxHQUNqQzFDLEtBQUtELGVBQWU0SCxZQUlmUyxJQUdSQSxHQUFXOUgsU0FBVyxTQUFVLFdBQVksaUJBQWtCIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcsIFsnbmdBbmltYXRlJywgJ25nTWF0ZXJpYWwnLCAnbmdNZXNzYWdlcycsICd1aS5yb3V0ZXInXSk7XG59KSgpO1xuJ3VzZSBzdHJpY3QnO1xuXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykucnVuKFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KCdkckNlbGwvZHJDZWxsLmh0bWwnLCAnPGRpdiBjbGFzcz1cImNlbGxcIiBuZy1jbGFzcz1cImMucmV0dXJuQ2VsbENsYXNzKClcIj5cXG5cXHQ8IS0tPGRpdiBjbGFzcz1cImNlbGxfX3R5cGVcIiBuZy1iaW5kPVwiYy50eXBlXCI+PC9kaXY+LS0+XFxuXFx0PGRpdiBjbGFzcz1cImNlbGxfX2ZpZ1wiPjwvZGl2PlxcbjwvZGl2PlxcbicpO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoJ2RyRGFzaGJvYXJkL2RyRGFzaGJvYXJkLmh0bWwnLCAnPGRpdiBjbGFzcz1cImRhc2hib2FyZFwiPlxcblxcdDxkaXYgY2xhc3M9XCJkYXNoYm9hcmRfX3Jvd1wiPlxcblxcdFxcdDxkaXYgY2xhc3M9XCJkYXNoYm9hcmRfX2xhYmVsXCI+XFx1MDQxRlxcdTA0M0VcXHUwNDQxXFx1MDQzQlxcdTA0MzVcXHUwNDM0XFx1MDQzRFxcdTA0MzhcXHUwNDM1IFxcdTA0NDNcXHUwNDM0XFx1MDQzMFxcdTA0M0JcXHUwNDUxXFx1MDQzRFxcdTA0M0RcXHUwNDRCXFx1MDQzNSBcXHUwNDREXFx1MDQzQlxcdTA0MzVcXHUwNDNDXFx1MDQzNVxcdTA0M0RcXHUwNDQyXFx1MDQ0QjwvZGl2PlxcblxcdFxcdDxkaXYgY2xhc3M9XCJkYXNoYm9hcmRfX3ZhbFwiPlxcblxcdFxcdFxcdDx1bD5cXG5cXHRcXHRcXHRcXHQ8bGkgbmctcmVwZWF0PVwiaXRlbSBpbiBkYi5wb2ludHMubGFzdERlbCB0cmFjayBieSAkaW5kZXhcIiBuZy1iaW5kPVwiaXRlbVwiPjwvbGk+XFxuXFx0XFx0XFx0PC91bD5cXG5cXHRcXHQ8L2Rpdj5cXG5cXHQ8L2Rpdj5cXG5cXHQ8ZGl2IGNsYXNzPVwiZGFzaGJvYXJkX19yb3dcIj5cXG5cXHRcXHQ8ZGl2IGNsYXNzPVwiZGFzaGJvYXJkX19sYWJlbFwiPlxcdTA0MUVcXHUwNDQ3XFx1MDQzQVxcdTA0MzggXFx1MDQzN1xcdTA0MzAgXFx1MDQzRlxcdTA0M0VcXHUwNDQxXFx1MDQzQlxcdTA0MzVcXHUwNDM0XFx1MDQzRFxcdTA0MzhcXHUwNDM5IFxcdTA0NDVcXHUwNDNFXFx1MDQzNDwvZGl2PlxcblxcdFxcdDxkaXYgY2xhc3M9XCJkYXNoYm9hcmRfX3ZhbFwiIG5nLWJpbmQ9XCJkYi5wb2ludHMubGFzdFBvaW50c1wiPjwvZGl2PlxcblxcdDwvZGl2PlxcblxcdDxkaXYgY2xhc3M9XCJkYXNoYm9hcmRfX3Jvd1wiPlxcblxcdFxcdDxkaXYgY2xhc3M9XCJkYXNoYm9hcmRfX2xhYmVsXCI+XFx1MDQxRVxcdTA0MzFcXHUwNDQ5XFx1MDQzNVxcdTA0MzUgXFx1MDQzQVxcdTA0M0VcXHUwNDNCXFx1MDQzOFxcdTA0NDdcXHUwNDM1XFx1MDQ0MVxcdTA0NDJcXHUwNDMyXFx1MDQzRSBcXHUwNDNFXFx1MDQ0N1xcdTA0M0FcXHUwNDNFXFx1MDQzMjwvZGl2PlxcblxcdFxcdDxkaXYgY2xhc3M9XCJkYXNoYm9hcmRfX3ZhbFwiIG5nLWJpbmQ9XCJkYi5wb2ludHMuYWxsUG9pbnRzXCI+PC9kaXY+XFxuXFx0PC9kaXY+XFxuPC9kaXY+Jyk7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnZHJGaWVsZC9kckZpZWxkLmh0bWwnLCAnPHVsIGNsYXNzPVwiY2VsbC1saXN0XCJuZy1zdHlsZT1cIntcXCd3aWR0aFxcJzogY2Yuc2l6ZSo2MCArIFxcJ3B4XFwnLCBcXCdoZWlnaHRcXCc6IGNmLnNpemUqNjAgKyBcXCdweFxcJ31cIj5cXG5cXHQ8bGkgY2xhc3M9XCJjZWxsLWxpc3RfX2l0ZW1cIlxcblxcdFxcdG5nLXJlcGVhdD1cIihpZHgsIGNlbGwpIGluIGNmLmNlbGxzIHRyYWNrIGJ5IGNlbGwuaWRcIlxcblxcdFxcdG5nLXN0eWxlPVwie1xcJ2xlZnRcXCc6IGNlbGwuY29sKjYwICsgXFwncHhcXCcsIFxcJ3RvcFxcJzogY2VsbC5yb3cqNjAgKyBcXCdweFxcJ31cIlxcblxcdFxcdG5nLWNsaWNrPVwiY2YuY2VsbENMaWNrKCRldmVudCwgY2VsbCwgaWR4KVwiPlxcblxcblxcdFxcdDxkci1jZWxsIHR5cGU9XCJ7e2NlbGwudHlwZX19XCIgc3RhdGU9XCJ7e2NlbGwuc3RhdGV9fVwiPjwvZHItY2VsbD5cXG5cXG5cXHQ8L2xpPlxcbjwvdWw+Jyk7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dCgnZHJNZW51L2RyTWVudS5odG1sJywgJzxkaXYgY2xhc3M9XCJtZW51XCI+XFxuXFx0PGRpdiBjbGFzcz1cIm1lbnVfX3RpdGxlXCI+XFx1MDQxRFxcdTA0M0VcXHUwNDMyXFx1MDQzMFxcdTA0NEYgXFx1MDQzOFxcdTA0MzNcXHUwNDQwXFx1MDQzMDwvZGl2PlxcblxcdDx1bCBjbGFzcz1cIm1lbnUtbGlzdFwiPlxcblxcdFxcdDxsaSBjbGFzcz1cIm1lbnUtbGlzdF9faXRlbVwiPlxcblxcdFxcdFxcdDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cIm0ubmV3R2FtZSgkZXZlbnQsIDUpXCI+NXg1PC9hPlxcblxcdFxcdDwvbGk+XFxuXFx0XFx0PGxpIGNsYXNzPVwibWVudS1saXN0X19pdGVtXCI+XFxuXFx0XFx0XFx0PGEgaHJlZj1cIlwiIG5nLWNsaWNrPVwibS5uZXdHYW1lKCRldmVudCwgNylcIj43eDc8L2E+XFxuXFx0XFx0PC9saT5cXG5cXHRcXHQ8bGkgY2xhc3M9XCJtZW51LWxpc3RfX2l0ZW1cIj5cXG5cXHRcXHRcXHQ8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJtLm5ld0dhbWUoJGV2ZW50LCA5KVwiPjl4OTwvYT5cXG5cXHRcXHQ8L2xpPlxcblxcdFxcdDxsaSBjbGFzcz1cIm1lbnUtbGlzdF9faXRlbVwiPlxcblxcdFxcdFxcdDxhIGhyZWY9XCJcIiBuZy1jbGljaz1cIm0ubmV3R2FtZSgkZXZlbnQsIDExKVwiPjExeDExPC9hPlxcblxcdFxcdDwvbGk+XFxuXFx0PC91bD5cXG48L2Rpdj4nKTtcbn1dKTtcbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdtYWluQ3RybCcsIG1haW5DdHJsKTtcblxuXHRmdW5jdGlvbiBtYWluQ3RybCgkc2NvcGUsICRodHRwLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJHRpbWVvdXQsIGRyRmlsZWRGYWN0b3J5LCBkckZpZWxkU2VydmljZSkge1xuXHRcdHRoaXMuJHNjb3BlID0gJHNjb3BlO1xuXHRcdHRoaXMuJGh0dHAgPSAkaHR0cDtcblx0XHR0aGlzLiRzdGF0ZSA9ICRzdGF0ZTtcblxuXHRcdHRoaXMuZHJGaWVsZFNlcnZpY2UgPSBkckZpZWxkU2VydmljZTtcblx0XHR0aGlzLnBvaW50cyA9IGRyRmllbGRTZXJ2aWNlLnBvaW50cztcblx0XHR0aGlzLmRyRmlsZWRGYWN0b3J5ID0gZHJGaWxlZEZhY3Rvcnk7XG5cblx0XHR0aGlzLmNlbGxTdGF0ZSA9ICdzcXVhcmUnO1xuXG5cdFx0dGhpcy5pbml0KCk7XG5cdH1cblxuXHRtYWluQ3RybC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHt9O1xuXG5cdG1haW5DdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICckaHR0cCcsICckc3RhdGUnLCAnJHN0YXRlUGFyYW1zJywgJyR0aW1lb3V0JywgJ2RyRmlsZWRGYWN0b3J5JywgJ2RyRmllbGRTZXJ2aWNlJ107XG59KSgpO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4oZnVuY3Rpb24gKCkge1xuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJykuZGlyZWN0aXZlKCdkckNlbGwnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG5cdFx0ZnVuY3Rpb24gZHJDZWxsTGluaygkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0aW1lb3V0KSB7fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGxpbms6IGRyQ2VsbExpbmssXG5cdFx0XHRyZXN0cmljdDogJ0FFQycsXG5cdFx0XHRzY29wZToge30sXG5cdFx0XHR0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdkckNlbGwvZHJDZWxsLmh0bWwnKSxcblx0XHRcdGNvbnRyb2xsZXI6IGRyQ2VsbEN0cmwsXG5cdFx0XHRjb250cm9sbGVyQXM6ICdjJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHtcblx0XHRcdFx0dHlwZTogJ0A/Jyxcblx0XHRcdFx0c3RhdGU6ICdAPydcblx0XHRcdH1cblx0XHR9O1xuXHR9XSk7XG5cblx0dmFyIGRyQ2VsbEN0cmwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0ZnVuY3Rpb24gZHJDZWxsQ3RybCgkc2NvcGUsICR0aW1lb3V0KSB7XG5cdFx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgZHJDZWxsQ3RybCk7XG5cdFx0fVxuXG5cdFx0LyoqXG4gICAqINCY0YHQv9C+0LvRjNC30YPQtdC8INC90LAg0LLRjNGO0YXQtSwg0LLQvtC30LLRgNCw0YnQsNC10YIgY3NzLdC60LvQsNGB0YHRiyDQtNC70Y8g0YLQuNC/0LAg0Lgg0YHQvtGB0YLQvtGP0L3QuNGPINGP0YfQtdC50LrQuFxuICAgKi9cblxuXG5cdFx0X2NyZWF0ZUNsYXNzKGRyQ2VsbEN0cmwsIFt7XG5cdFx0XHRrZXk6ICdyZXR1cm5DZWxsQ2xhc3MnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIHJldHVybkNlbGxDbGFzcygpIHtcblx0XHRcdFx0dmFyIHR5cGUgPSAnY2VsbF90eXBlLScgKyAodGhpcy50eXBlIHx8ICdzcXVhcmUnKTtcblx0XHRcdFx0dmFyIHN0YXRlID0gJ2NlbGxfc3RhdGUtJyArICh0aGlzLnN0YXRlIHx8ICdkZWZhdWx0Jyk7XG5cblx0XHRcdFx0cmV0dXJuIFt0eXBlLCBzdGF0ZV07XG5cdFx0XHR9XG5cdFx0fV0pO1xuXG5cdFx0cmV0dXJuIGRyQ2VsbEN0cmw7XG5cdH0oKTtcblxuXHRkckNlbGxDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICckdGltZW91dCddO1xufSkoKTtcbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuKGZ1bmN0aW9uICgpIHtcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpLmRpcmVjdGl2ZSgnZHJEYXNoYm9hcmQnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG5cdFx0ZnVuY3Rpb24gZHJEYXNoYm9hcmRMaW5rKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgJHRpbWVvdXQpIHt9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0bGluazogZHJEYXNoYm9hcmRMaW5rLFxuXHRcdFx0cmVzdHJpY3Q6ICdBRUMnLFxuXHRcdFx0c2NvcGU6IHt9LFxuXHRcdFx0dGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnZHJEYXNoYm9hcmQvZHJEYXNoYm9hcmQuaHRtbCcpLFxuXHRcdFx0Y29udHJvbGxlcjogZHJEYXNoYm9hcmRDdHJsLFxuXHRcdFx0Y29udHJvbGxlckFzOiAnZGInLFxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjoge31cblx0XHR9O1xuXHR9XSk7XG5cblx0dmFyIGRyRGFzaGJvYXJkQ3RybCA9IGZ1bmN0aW9uIGRyRGFzaGJvYXJkQ3RybCgkc2NvcGUsICR0aW1lb3V0LCBkckZpZWxkU2VydmljZSkge1xuXHRcdF9jbGFzc0NhbGxDaGVjayh0aGlzLCBkckRhc2hib2FyZEN0cmwpO1xuXG5cdFx0dGhpcy5wb2ludHMgPSBkckZpZWxkU2VydmljZS5wb2ludHM7XG5cdH07XG5cblx0ZHJEYXNoYm9hcmRDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICckdGltZW91dCcsICdkckZpZWxkU2VydmljZSddO1xufSkoKTtcbid1c2Ugc3RyaWN0JztcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuKGZ1bmN0aW9uICgpIHtcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpLmRpcmVjdGl2ZSgnZHJGaWVsZCcsIFsnJHRlbXBsYXRlQ2FjaGUnLCBmdW5jdGlvbiAoJHRlbXBsYXRlQ2FjaGUpIHtcblx0XHRmdW5jdGlvbiBkckZpZWxkTGluaygkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0aW1lb3V0KSB7fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGxpbms6IGRyRmllbGRMaW5rLFxuXHRcdFx0cmVzdHJpY3Q6ICdBRUMnLFxuXHRcdFx0c2NvcGU6IHt9LFxuXHRcdFx0dGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgnZHJGaWVsZC9kckZpZWxkLmh0bWwnKSxcblx0XHRcdGNvbnRyb2xsZXI6IGRyRmllbGRDdHJsLFxuXHRcdFx0Y29udHJvbGxlckFzOiAnY2YnLFxuXHRcdFx0YmluZFRvQ29udHJvbGxlcjoge1xuXHRcdFx0XHRjZWxsQ2xpY2s6ICc9PycsXG5cdFx0XHRcdHNpemU6ICc9PycsXG5cdFx0XHRcdGN0eDogJz0/J1xuXHRcdFx0fVxuXHRcdH07XG5cdH1dKTtcblxuXHR2YXIgZHJGaWVsZEN0cmwgPSBmdW5jdGlvbiAoKSB7XG5cdFx0ZnVuY3Rpb24gZHJGaWVsZEN0cmwoZHJGaWVsZFNlcnZpY2UsIGRyRmlsZWRGYWN0b3J5LCAkc2NvcGUsICR0aW1lb3V0KSB7XG5cdFx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgZHJGaWVsZEN0cmwpO1xuXG5cdFx0XHR0aGlzLmRyRmllbGRTZXJ2aWNlID0gZHJGaWVsZFNlcnZpY2U7XG5cdFx0XHR0aGlzLmRyRmlsZWRGYWN0b3J5ID0gZHJGaWxlZEZhY3Rvcnk7XG5cdFx0XHRpZiAodGhpcy5zaXplKSB0aGlzLmRyRmlsZWRGYWN0b3J5LnNpemUgPSB0aGlzLnNpemU7XG5cdFx0XHR0aGlzLiRzY29wZSA9ICRzY29wZTtcblxuXHRcdFx0dGhpcy5pbml0KCk7XG5cdFx0fVxuXG5cdFx0LyoqXG4gICAqINCf0YDQuCDQuNC90YbQuNCw0LvQuNC30LDRhtC40Lgg0YHQvtC30LTQsNC10Lwg0LzQsNGB0YHQuNCyXG4gICAqL1xuXG5cblx0XHRfY3JlYXRlQ2xhc3MoZHJGaWVsZEN0cmwsIFt7XG5cdFx0XHRrZXk6ICdpbml0Jyxcblx0XHRcdHZhbHVlOiBmdW5jdGlvbiBpbml0KCkge1xuXHRcdFx0XHR0aGlzLmNlbGxzID0gdGhpcy5kckZpZWxkU2VydmljZS5jcmVhdGVOZXdBcnIodGhpcy5zaXplKTtcblx0XHRcdH1cblxuXHRcdFx0LyoqXG4gICAgKiDQmtC70LjQuiDQv9C+INGP0YfQtdC50LrQtVxuICAgICogPT0g0YHQvtCx0YvRgtC40LUsINGP0YfQtdC50LrQsCwg0LjQvdC00LXQutGBINCyINC80LDRgdGB0LjQstC1ID09XG4gICAgKi9cblxuXHRcdH0sIHtcblx0XHRcdGtleTogJ2NlbGxDTGljaycsXG5cdFx0XHR2YWx1ZTogZnVuY3Rpb24gY2VsbENMaWNrKGUsIGNlbGwsIGlkeCkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHRcdFx0aWYgKGNlbGwuc3RhdGUgPT09ICdkZWZhdWx0Jykge1xuXHRcdFx0XHRcdC8vINCa0LvQuNC6INC/0L4g0Y/Rh9C10LnQutC1INGBINC00LXRhNC+0LvRgtC90YvQvCDRgdGC0LDRgtGD0YHQvtC8LiDQlNC10LvQsNC10Lwg0LXRkSDQsNC60YLQuNCy0L3QvtC5INC4INCy0YvQtNC10LvRj9C10Lwg0L/QsNGB0YHQuNCy0L7QvCDQsdC70LjQttCw0LnRiNC40LUg0Y/Rh9C10LnQutC4XG5cdFx0XHRcdFx0dGhpcy5hY3RpdmVDZWxsSWR4ID0gaWR4O1xuXHRcdFx0XHRcdHRoaXMuZHJGaWVsZFNlcnZpY2Uuc2V0QWN0aXZlQ2VsbChpZHgsIHRydWUpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGNlbGwuc3RhdGUgPT09ICdwYXNzaXZlJykge1xuXHRcdFx0XHRcdC8vINCa0LvQuNC6INC/0L4g0Y/Rh9C10LnQutC1INGBINC/0LDRgdGB0LjQstC90YvQvCDRgdGC0LDRgtGD0YHQvtC8XG5cdFx0XHRcdFx0dGhpcy5kckZpZWxkU2VydmljZS5yZXBsYWNlRWxlbWVudHModGhpcy5hY3RpdmVDZWxsSWR4LCBpZHgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGNlbGwuc3RhdGUgPT09ICdhY3RpdmUnKSB7XG5cdFx0XHRcdFx0Ly8g0JrQu9C40Log0L/QviDRj9GH0LXQudC60LUg0YEg0LDQutGC0LjQstC90YvQvCDRgdGC0LDRgtGD0YHQvtC8LiDQodC90LjQvNCw0LXQvCDQsNC60YLQuNCy0L3QvtGB0YLRjCDRgSDQvdC10ZEg0Lgg0LHQu9C40LbQsNC50YjQuNGFXG5cdFx0XHRcdFx0dGhpcy5hY3RpdmVDZWxsSWR4ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdHRoaXMuZHJGaWVsZFNlcnZpY2Uuc2V0QWN0aXZlQ2VsbChpZHgsIGZhbHNlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1dKTtcblxuXHRcdHJldHVybiBkckZpZWxkQ3RybDtcblx0fSgpO1xuXG5cdGRyRmllbGRDdHJsLiRpbmplY3QgPSBbJ2RyRmllbGRTZXJ2aWNlJywgJ2RyRmlsZWRGYWN0b3J5JywgJyRzY29wZScsICckdGltZW91dCddO1xufSkoKTtcbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpLnNlcnZpY2UoJ2RyRmllbGRTZXJ2aWNlJywgWydkckZpbGVkRmFjdG9yeScsICckdGltZW91dCcsIGZ1bmN0aW9uIChkckZpbGVkRmFjdG9yeSwgJHRpbWVvdXQpIHtcblx0XHQvKipcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBwcml2YXRlIG1ldGhvZHMgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICovXG5cdFx0dmFyIF9zZWxmID0gdGhpcztcblx0XHR0aGlzLm1hdHJpeE1vZGVsID0gW107XG5cdFx0dmFyIF9tbSA9IHRoaXMubWF0cml4TW9kZWw7XG5cdFx0dGhpcy5wb2ludHMgPSB7XG5cdFx0XHRsYXN0RGVsOiBbXSxcblx0XHRcdGxhc3RQb2ludHM6IDAsXG5cdFx0XHRhbGxQb2ludHM6IDBcblx0XHR9O1xuXG5cdFx0dGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMucG9pbnRzLmxhc3REZWwubGVuZ3RoID0gMDtcblx0XHRcdHRoaXMucG9pbnRzLmxhc3RQb2ludHMgPSAwO1xuXHRcdFx0dGhpcy5wb2ludHMuYWxsUG9pbnRzID0gMDtcblx0XHR9O1xuXG5cdFx0LyoqXG4gICAqINCh0L7RgNGC0LjRgNC+0LLQutCwINC80LDRgdGB0LjQstCwINC/0L4g0LfQvdCw0YfQtdC90LjRjyBvYmoucm93INC4IG9iai5jb2wg0Y3Qu9C10LzQtdC90YLQvtCyLiDQmNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8g0L/QvtGB0LvQtSDQv9C10YDQtdGB0YLQsNC90L7QstC+0Log0Lgg0YPQtNCw0LvQtdC90LjQuVxuICAgKiAo0LTQu9GPINGB0LjQvdGF0YDQvtC90LjQt9Cw0YbQuNC4INCy0YzRjtGF0Lgg0Lgg0LzQvtC00LXQu9C4LCDRgi7Qui4g0L3QsCDQstGM0Y7RhdC1INC/0YDQuCDQv9C10YDQtdC80LXRidC10L3QuNC4INC80Ysg0L3QtSDQvNC10L3Rj9C70Lgg0LzQvtC00LXQu9GMKVxuICAgKi9cblx0XHRmdW5jdGlvbiBzb3J0QXJyQnlSb3dDb2woYSwgYikge1xuXHRcdFx0aWYgKGEucm93ICE9PSBiLnJvdykge1xuXHRcdFx0XHRyZXR1cm4gYS5yb3cgLSBiLnJvdztcblx0XHRcdH0gZWxzZSBpZiAoYS5yb3cgPT09IGIucm93KSB7XG5cdFx0XHRcdHJldHVybiBhLmNvbCAtIGIuY29sO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuICAgKiDQktC+0LfQstGA0LDRidCw0LXQvCDRgNCw0L3QtNC+0LzQvdGL0Lkg0Y3Qu9C10LzQtdC90YIg0LzQsNGB0YHQuNCy0LBcbiAgICovXG5cdFx0ZnVuY3Rpb24gcmV0dXJuUmFuZEVsZW1lbnQoYXJyKSB7XG5cdFx0XHR2YXIgaWR4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyLmxlbmd0aCk7XG5cdFx0XHRyZXR1cm4gYXJyW2lkeF07XG5cdFx0fVxuXG5cdFx0LyoqXG4gICAqINCS0L7Qt9Cy0YDQsNGJ0LDQtdC8INGA0LDQvdC00L7QvNC90YvQuSDRjdC70LXQvNC10L3RgiDQvNCw0YHRgdC40LLQsCwg0LjRgdC60LvRjtGH0LDRjyDQv9C10YDQtdC00LDQvdC90YvQuSDQsiDRhNGD0L3QutGG0LjRjlxuICAgKi9cblx0XHRmdW5jdGlvbiByZXR1cm5Bbm90aGVyVHlwZShyZXBlYXRUeXBlcykge1xuXHRcdFx0dmFyIG5ld0FyciA9IGFuZ3VsYXIuY29weShkckZpbGVkRmFjdG9yeS50eXBlcyk7XG5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgcmVwZWF0VHlwZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBuZXdBcnIubGVuZ3RoOyBqICs9IDEpIHtcblx0XHRcdFx0XHRpZiAocmVwZWF0VHlwZXNbaV0gPT09IG5ld0FycltqXSkgbmV3QXJyLnNwbGljZShqLCAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcmV0dXJuUmFuZEVsZW1lbnQobmV3QXJyKTtcblx0XHR9XG5cblx0XHQvKipcbiAgICog0KTRg9C90LrRhtC40Y8g0L/RgNC+0YHRgtCw0LLQu9GP0LXRgiDRjdC70LXQvNC10L3RgtGL0Lwg0LzQsNGB0YHQuNCy0LAg0LrQvtC+0YDQtNC40L3QsNGC0YsgKNC/0L7Qu9GPIFwiY29sXCIsIFwicm93XCIpINCyINC30LDQstC40YHQuNC80L7RgdGC0Lgg0L7RglxuICAgKiDQstGC0L7RgNC+0LPQviDQv9Cw0YDQsNC80LXRgtGA0LAgc2l6ZSAo0YjQuNGA0LjQvdCwINC80LDRgdGB0LjQstCwKVxuICAgKi9cblx0XHRmdW5jdGlvbiBzZXRDb29yZHNUb0VsZW1lbnRzKCkge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBfbW0ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0X21tW2ldLmNvbCA9IGkgJSBfc2VsZi5zaXplO1xuXHRcdFx0XHRfbW1baV0ucm93ID0gTWF0aC5mbG9vcihpIC8gX3NlbGYuc2l6ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG4gICAqINCk0YPQvdC60YbQuNGPINC/0YDQuNC90LjQvNCw0LXRgiDQvNCw0YHRgdC40LIsINCyINC60L7RgtC+0YDRi9C5INC00L7QsdCw0LLQu9GP0LXRgiDQvdC+0LLRi9C5INGN0LvQtdC80LXQvdGCLlxuICAgKiDQn9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0LLRi9C/0L7Qu9C90Y/QtdGCINC00LLQtSDQv9GA0L7QstC10YDQutC4OlxuICAgKiAtINC10YHQu9C4INGC0LjQv9GLINC00LLRg9GFINC/0YDQtdC00YvQtNGD0YnQuNGFINC+0LHRitC10LrRgiDRgNCw0LLQvdGLINGC0LXQutGD0YnQtdC80YMg0YHQs9C10L3QtdGA0LjRgNC+0LLQsNC90L3QvtC80YMg0YLQuNC/0YMsINGC0L4g0LPQtdC90LXRgNC40YDRg9C10Lwg0L3QvtCy0YvQuVxuICAgKiAtINC10YHQu9C4INGC0LjQv9GLINC00LLRg9GFINC+0LHRitC10LrRgtC+0LIg0L3QsNC0INGC0LXQutGD0LfQuNC8INGA0LDQstC90Ysg0YLQtdC60YPRidC10LzRgyDRgdCz0LXQvdC10YDQuNGA0L7QstCw0L3QvdC+0LzRgyDRgtC40L/Rgywg0YLQviDQs9C10L3QtdGA0LjRgNGD0LXQvCDQvdC+0LLRi9C5XG4gICAqL1xuXHRcdGZ1bmN0aW9uIHJldHVyblR5cGVGb3JOZXdFbGVtZW50KGlkeCkge1xuXHRcdFx0Ly8g0J/RgNC+0LLQtdGA0LrQuCDQvdCwINCz0L7RgNC40LfQvtC90YLQsNC70YzQvdGL0LUg0Lgg0LLQtdGA0YLQuNC60LDQu9GM0L3Ri9C1INGB0L7QstC/0LDQtNC10L3QuNGPINC/0YDQuCDQs9C10L3QtdGA0LDRhtC40Lhcblx0XHRcdHZhciByZXBlYXRUeXBlcyA9IGNoZWNrRHVwZShpZHgpO1xuXG5cdFx0XHR2YXIgdHlwZSA9IHJlcGVhdFR5cGVzLmxlbmd0aCA/IHJldHVybkFub3RoZXJUeXBlKHJlcGVhdFR5cGVzKSA6IHJldHVyblJhbmRFbGVtZW50KGRyRmlsZWRGYWN0b3J5LnR5cGVzKTtcblxuXHRcdFx0cmV0dXJuIHR5cGUgfHwgJ3NxdWFyZSc7XG5cdFx0fVxuXG5cdFx0LyoqXG4gICAqINCf0YDQvtCy0LXRgNC60LAg0L3QsCDQv9C+0LLRgtC+0YDQtdC90LjQtVxuICAgKi9cblx0XHRmdW5jdGlvbiBjaGVja0R1cGUoaWR4KSB7XG5cdFx0XHR2YXIgcyA9IF9zZWxmLnNpemU7XG5cdFx0XHR2YXIgcmVzdWx0ID0gW107XG5cblx0XHRcdHZhciBjb2xJZHggPSBfbW0ubGVuZ3RoICUgcztcblx0XHRcdGlmIChjb2xJZHggPiAxKSB7XG5cdFx0XHRcdGlmIChfbW1bX21tLmxlbmd0aCAtIDJdLnR5cGUgPT09IF9tbVtfbW0ubGVuZ3RoIC0gMV0udHlwZSkge1xuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKF9tbVtfbW0ubGVuZ3RoIC0gMV0udHlwZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dmFyIHJvd0lkeCA9IE1hdGguZmxvb3IoX21tLmxlbmd0aCAvIHMpO1xuXHRcdFx0aWYgKHJvd0lkeCA+IDEpIHtcblx0XHRcdFx0aWYgKF9tbVtfbW0ubGVuZ3RoIC0gc10udHlwZSA9PT0gX21tW19tbS5sZW5ndGggLSBzICogMl0udHlwZSkge1xuXHRcdFx0XHRcdHJlc3VsdC5wdXNoKF9tbVtfbW0ubGVuZ3RoIC0gc10udHlwZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8g0JXRgdC70Lgg0LzQuNC90LjQvNGD0Lwg0YLRgNC10YLQuNC5INGN0LvQtdC80LXQvdGCINCyINGB0YLRgNC+0LrQtVxuXHRcdFx0aWYgKGlkeCAtIE1hdGguZmxvb3IoaWR4IC8gcykgKiBzID4gMSkge1xuXHRcdFx0XHQvL9CV0YHQu9C4INC/0YDQtdC00YvQtNGD0YnQuNC1INC00LLQsCDRjdC70LXQvNC10L3RgtCwINCyINGB0YLRgNC+0LrQtSDRgdGD0YnQtdGB0YLQstGD0Y7RgiDQuCDQuNGFINGC0LjQv9GLINGB0L7QstC/0LDQtNCw0Y7Rgiwg0YLQviDQuNGB0LrQu9GO0YfQsNC10Lwg0YLQuNC/XG5cdFx0XHRcdGlmIChfbW1baWR4IC0gMV0gJiYgX21tW2lkeCAtIDJdICYmIF9tbVtpZHggLSAxXS50eXBlID09PSBfbW1baWR4IC0gMl0udHlwZSkgcmVzdWx0LnB1c2goX21tW2lkeCAtIDFdLnR5cGUpO1xuXHRcdFx0fVxuXHRcdFx0Ly8g0JXRgdC70Lgg0LfQsCDQvdC40Lwg0LXRgdGC0Ywg0LzQuNC90LjQvNGD0Lwg0LTQstCwINGN0LvQtdC80LXQvdGC0LAg0LIg0YHRgtGA0L7QutC1XG5cdFx0XHRpZiAoTWF0aC5jZWlsKGlkeCAvIHMpICogcyAtIGlkeCA+IDEpIHtcblx0XHRcdFx0Ly/QldGB0LvQuCDRgdC70LXQtNGD0Y7RidC40LUg0LTQstCwINGN0LvQtdC80LXQvdGC0LAg0LIg0YHRgtGA0L7QutC1INGB0YPRidC10YHRgtCy0YPRjtGCINC4INC40YUg0YLQuNC/0Ysg0YHQvtCy0L/QsNC00LDRjtGCLCDRgtC+INC40YHQutC70Y7Rh9Cw0LXQvCDRgtC40L9cblx0XHRcdFx0aWYgKF9tbVtpZHggKyAxXSAmJiBfbW1baWR4ICsgMl0gJiYgX21tW2lkeCArIDFdLnR5cGUgPT09IF9tbVtpZHggKyAyXS50eXBlKSByZXN1bHQucHVzaChfbW1baWR4ICsgMV0udHlwZSk7XG5cdFx0XHR9XG5cdFx0XHQvLyDQldGB0LvQuCDRgdCy0LXRgNGF0YMg0L3QsNC0INC90LjQvCDQtdGB0YLRjCDQvNC40L3QuNC80YPQvCDQtNCy0LAg0Y3Qu9C10LzQtdC90YLQsCDQsiDRgdGC0L7Qu9Cx0YbQtVxuXHRcdFx0aWYgKE1hdGguY2VpbChpZHggLyBzKSA+IDIpIHtcblx0XHRcdFx0Ly/QldGB0LvQuCDQtNCy0LAg0Y3Qu9C10LzQtdC90YLQsCDRgdCy0LXRgNGF0YMg0LIg0YHRgtC+0LvQsdGG0LUg0YHRg9GJ0LXRgdGC0LLRg9GO0YIg0Lgg0LjRhSDRgtC40L/RiyDRgdC+0LLQv9Cw0LTQsNGO0YIsINGC0L4g0LjRgdC60LvRjtGH0LDQtdC8INGC0LjQv1xuXHRcdFx0XHRpZiAoX21tW2lkeCAtIHNdICYmIF9tbVtpZHggLSBzICogMl0gJiYgX21tW2lkeCAtIHNdLnR5cGUgPT09IF9tbVtpZHggLSBzICogMl0udHlwZSkgcmVzdWx0LnB1c2goX21tW2lkeCAtIHNdLnR5cGUpO1xuXHRcdFx0fVxuXHRcdFx0Ly8g0JXRgdC70Lgg0YHQvdC40LfRgyDQv9C+0LQg0L3QuNC8INC10YHRgtGMINC80LjQvdC40LzRg9C8INC00LLQsCDRjdC70LXQvNC10L3RgtCwINCyINGB0YLQvtC70LHRhtC1XG5cdFx0XHRpZiAocyAtIE1hdGguY2VpbChpZHggLyBzKSA+IDIpIHtcblx0XHRcdFx0Ly/QldGB0LvQuCDQtNCy0LAg0Y3Qu9C10LzQtdC90YLQsCDRgdC90LjQt9GDINCyINGB0YLQvtC70LHRhtC1INGB0YPRidC10YHRgtCy0YPRjtGCINC4INC40YUg0YLQuNC/0Ysg0YHQvtCy0L/QsNC00LDRjtGCLCDRgtC+INC40YHQutC70Y7Rh9Cw0LXQvCDRgtC40L9cblx0XHRcdFx0aWYgKF9tbVtpZHggKyBzXSAmJiBfbW1baWR4ICsgcyAqIDJdICYmIF9tbVtpZHggKyBzXS50eXBlID09PSBfbW1baWR4ICsgcyAqIDJdLnR5cGUpIHJlc3VsdC5wdXNoKF9tbVtpZHggKyBzXS50eXBlKTtcblx0XHRcdH1cblx0XHRcdC8vINCV0YHQu9C4INC80LjQvdC40LzRg9C8INCy0YLQvtGA0L7QuSDQuCDQvNC40L3QuNC80YPQvCDQv9GA0LXQtNC/0L7RgdC70LXQtNC90LjQuSDRjdC70LXQvNC10L3RglxuXHRcdFx0aWYgKGlkeCAtIE1hdGguZmxvb3IoaWR4IC8gcykgKiBzID4gMCAmJiBNYXRoLmNlaWwoaWR4IC8gcykgKiBzIC0gaWR4ID4gMCkge1xuXHRcdFx0XHQvLyDQldGB0LvQuCDRgtC40L/RiyDRjdC70LXQvNC10L3RgtC+0LIg0L/QtdGA0LXQtCDQvdC40Lwg0Lgg0LfQsCDQvdC40Lwg0YHQvtCy0L/QsNC00LDRjtGCXG5cdFx0XHRcdGlmIChfbW1baWR4IC0gMV0gJiYgX21tW2lkeCArIDFdICYmIF9tbVtpZHggLSAxXS50eXBlID09PSBfbW1baWR4ICsgMV0udHlwZSkgcmVzdWx0LnB1c2goX21tW2lkeCAtIDFdLnR5cGUpO1xuXHRcdFx0fVxuXHRcdFx0Ly8g0JXRgdC70Lgg0L3QsNC0INC90LjQvCDQuCDQv9C+0LQg0L3QuNC8INC10YHRgtGMINGN0LvQtdC80LXQvdGC0Ytcblx0XHRcdGlmIChNYXRoLmNlaWwoaWR4IC8gcykgPiAxICYmIHMgLSBNYXRoLmNlaWwoaWR4IC8gcykgPiAxKSB7XG5cdFx0XHRcdC8vINCV0YHQu9C4INGC0LjQv9GLINGN0LvQtdC80LXQvdGC0L7QsiDQv9C+0LQg0L3QuNC8INC4INC90LDQtCDQvdC40Lwg0YHQvtCy0L/QsNC00LDRjtGCXG5cdFx0XHRcdGlmIChfbW1baWR4IC0gc10gJiYgX21tW2lkeCArIHNdICYmIF9tbVtpZHggLSBzXS50eXBlID09PSBfbW1baWR4ICsgc10udHlwZSkgcmVzdWx0LnB1c2goX21tW2lkeCAtIHNdLnR5cGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdC8qKlxuICAgKiDQpNGD0L3QutGG0LjRjyDQv9GA0L7QstC10YDRj9C10YIg0L3QsCDQs9C+0YDQuNC30L7QvdGC0LDQu9GM0L3Ri9C1INGB0L7QstC/0LDQtNC10L3QuNGPXG4gICAqL1xuXHRcdGZ1bmN0aW9uIGNvdW50UmVwZWF0SW5Sb3cocmVzdWx0KSB7XG5cdFx0XHR2YXIgc2l6ZSA9IF9zZWxmLnNpemU7XG5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgX21tLmxlbmd0aDsgaSArPSBzaXplKSB7XG5cdFx0XHRcdHZhciBkZWxJZHhBcnIgPSBbaV0sXG5cdFx0XHRcdCAgICBjdXJyZW50VHlwZSA9IF9tbVtpXS50eXBlO1xuXG5cdFx0XHRcdG5leHQ6IGZvciAodmFyIGogPSAxOyBqIDwgc2l6ZTsgaiArPSAxKSB7XG5cdFx0XHRcdFx0aWYgKF9tbVtpICsgal0udHlwZSA9PT0gJ2VtcHR5JyB8fCBjdXJyZW50VHlwZSAhPT0gX21tW2kgKyBqXS50eXBlKSB7XG5cdFx0XHRcdFx0XHRpZiAoZGVsSWR4QXJyLmxlbmd0aCA+IDIpIGJyZWFrO1xuXHRcdFx0XHRcdFx0ZGVsSWR4QXJyLmxlbmd0aCA9IDA7XG5cdFx0XHRcdFx0XHRkZWxJZHhBcnIucHVzaChpICsgaik7XG5cdFx0XHRcdFx0XHRjdXJyZW50VHlwZSA9IF9tbVtpICsgal0udHlwZTtcblx0XHRcdFx0XHRcdGNvbnRpbnVlIG5leHQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRlbElkeEFyci5wdXNoKGkgKyBqKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGRlbElkeEFyci5sZW5ndGggPiAyKSB7XG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goe1xuXHRcdFx0XHRcdFx0bGVuZ3RoOiBkZWxJZHhBcnIubGVuZ3RoLFxuXHRcdFx0XHRcdFx0dHlwZTogY3VycmVudFR5cGUsXG5cdFx0XHRcdFx0XHRpZHhBcnI6IGFuZ3VsYXIuY29weShkZWxJZHhBcnIpXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGVsSWR4QXJyLmxlbmd0aCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG4gICAqINCk0YPQvdC60YbQuNGPINC/0YDQvtCy0LXRgNGP0LXRgiDQvdCwINCy0LXRgNGC0LjQutCw0LvRjNC90YvQtSDRgdC+0LLQv9Cw0LTQtdC90LjRj1xuICAgKi9cblx0XHRmdW5jdGlvbiBjb3VudFJlcGVhdEluQ29sKHJlc3VsdCkge1xuXHRcdFx0dmFyIHNpemUgPSBfc2VsZi5zaXplO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkgKz0gMSkge1xuXHRcdFx0XHR2YXIgZGVsSWR4QXJyID0gW2ldLFxuXHRcdFx0XHQgICAgY3VycmVudFR5cGUgPSBfbW1baV0udHlwZTtcblxuXHRcdFx0XHRuZXh0OiBmb3IgKHZhciBqID0gMTsgaiA8IHNpemU7IGogKz0gMSkge1xuXHRcdFx0XHRcdGlmIChfbW1baSArIGogKiBzaXplXS50eXBlID09PSAnZW1wdHknIHx8IGN1cnJlbnRUeXBlICE9PSBfbW1baSArIGogKiBzaXplXS50eXBlKSB7XG5cdFx0XHRcdFx0XHRpZiAoZGVsSWR4QXJyLmxlbmd0aCA+IDIpIGJyZWFrO1xuXHRcdFx0XHRcdFx0ZGVsSWR4QXJyLmxlbmd0aCA9IDA7XG5cdFx0XHRcdFx0XHRkZWxJZHhBcnIucHVzaChpICsgaiAqIHNpemUpO1xuXHRcdFx0XHRcdFx0Y3VycmVudFR5cGUgPSBfbW1baSArIGogKiBzaXplXS50eXBlO1xuXHRcdFx0XHRcdFx0Y29udGludWUgbmV4dDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGVsSWR4QXJyLnB1c2goaSArIGogKiBzaXplKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGRlbElkeEFyci5sZW5ndGggPiAyKSB7XG5cdFx0XHRcdFx0cmVzdWx0LnB1c2goe1xuXHRcdFx0XHRcdFx0bGVuZ3RoOiBkZWxJZHhBcnIubGVuZ3RoLFxuXHRcdFx0XHRcdFx0dHlwZTogY3VycmVudFR5cGUsXG5cdFx0XHRcdFx0XHRpZHhBcnI6IGFuZ3VsYXIuY29weShkZWxJZHhBcnIpXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGVsSWR4QXJyLmxlbmd0aCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG4gICAqICDQnNC10L3Rj9C10Lwg0LzQtdGB0YLQsNC80Lgg0LTQstCwINGN0LvQtdC80LXQvdGC0LAg0LzQsNGB0YHQuNCy0LAg0L/QviDQuNGFINC40L3QtNC10LrRgdCw0LxcbiAgICovXG5cdFx0ZnVuY3Rpb24gc2hpZnRUb0VsKGlkeDEsIGlkeDIpIHtcblx0XHRcdHZhciB0ZW1wID0ge1xuXHRcdFx0XHRjb2wxOiBfbW1baWR4MV0uY29sLFxuXHRcdFx0XHRyb3cxOiBfbW1baWR4MV0ucm93LFxuXHRcdFx0XHRjb2wyOiBfbW1baWR4Ml0uY29sLFxuXHRcdFx0XHRyb3cyOiBfbW1baWR4Ml0ucm93XG5cdFx0XHR9O1xuXG5cdFx0XHRfbW1baWR4MV0uY29sID0gdGVtcC5jb2wyO1xuXHRcdFx0X21tW2lkeDFdLnJvdyA9IHRlbXAucm93MjtcblxuXHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRfbW1baWR4Ml0uY29sID0gdGVtcC5jb2wxO1xuXHRcdFx0XHRfbW1baWR4Ml0ucm93ID0gdGVtcC5yb3cxO1xuXHRcdFx0fSwgMjAwKTtcblx0XHR9XG5cblx0XHQvKipcbiAgICog0JPQtdC90LXRgNC40YDRg9C10Lwg0L3QvtCy0YvQtSDRjdC70LXQvNC10L3RgtGLXG4gICAqL1xuXHRcdGZ1bmN0aW9uIGdlbmVyYXRlTmV3RWwoKSB7XG5cdFx0XHR2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7XG5cdFx0XHRcdGlmIChfbW1baV0udHlwZSA9PT0gJ2VtcHR5Jykge1xuXHRcdFx0XHRcdF9tbVtpXS50eXBlID0gcmV0dXJuVHlwZUZvck5ld0VsZW1lbnQoaSk7XG5cdFx0XHRcdFx0X21tW2ldLnN0YXRlID0gJ25ldyc7XG5cdFx0XHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0X21tW2ldLnN0YXRlID0gJ2RlZmF1bHQnO1xuXHRcdFx0XHRcdH0sIDUwMCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgX21tLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdF9sb29wKGkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuICAgKiDQoNC10LrRg9GA0YHQuNCy0L3QvtC1INGD0LTQsNC70LXQvdC40LUg0YHRgtGA0L7QuiDQuCDRgdGC0L7Qu9Cx0YbQvtCyINC+0LTQuNC90LDQutC+0LLRi9GFINGN0LvQtdC80LXQvdGC0L7QslxuICAgKi9cblx0XHRmdW5jdGlvbiByZWN1ckRlbGV0ZUVsKCkge1xuXHRcdFx0dmFyIHJlc3VsdCA9IFtdO1xuXG5cdFx0XHRjb3VudFJlcGVhdEluUm93KHJlc3VsdCk7XG5cdFx0XHRjb3VudFJlcGVhdEluQ29sKHJlc3VsdCk7XG5cblx0XHRcdGlmIChyZXN1bHQgJiYgcmVzdWx0Lmxlbmd0aCA+IDEpIGNoZWNrQ3Jvc3NpbmdMaW5lcyhyZXN1bHQpO1xuXG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IF9tbS5sZW5ndGg7IGogKz0gMSkge1xuXHRcdFx0XHRfbW1bal0uc3RhdGUgPSAnZGVmYXVsdCc7XG5cdFx0XHR9aWYgKCFyZXN1bHQubGVuZ3RoKSB7XG5cdFx0XHRcdHZhciBtYXJrZXIgPSBmYWxzZTtcblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBfbW0ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRpZiAoX21tW2ldLnR5cGUgPT09ICdlbXB0eScpIHtcblx0XHRcdFx0XHRcdG1hcmtlciA9IHRydWU7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG1hcmtlcikge1xuXHRcdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdGdlbmVyYXRlTmV3RWwoKTtcblx0XHRcdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0X21tLnNvcnQoc29ydEFyckJ5Um93Q29sKTtcblxuXHRcdFx0XHRcdFx0XHRyZWN1ckRlbGV0ZUVsKCk7XG5cdFx0XHRcdFx0XHR9LCA1MDApO1xuXHRcdFx0XHRcdH0sIDUwMCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQkdGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdG1hcmtEZWxldGVFbChyZXN1bHQpO1xuXG5cdFx0XHRcdGNhbGN1bGF0ZVBvaW50c0luZm8ocmVzdWx0KTtcblxuXHRcdFx0XHQkdGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0ZGVsZXRlRWxlbWVudHMocmVzdWx0KTtcblxuXHRcdFx0XHRcdG1vdmVUb3BFbCgpO1xuXG5cdFx0XHRcdFx0X21tLnNvcnQoc29ydEFyckJ5Um93Q29sKTtcblxuXHRcdFx0XHRcdHJlY3VyRGVsZXRlRWwoKTtcblx0XHRcdFx0fSwgNTAwKTtcblx0XHRcdH0sIDI1MCk7XG5cdFx0fVxuXG5cdFx0LyoqXG4gICAqINCX0LDQtNCw0LXQvCDRgdGC0LDRgtGD0YEg0YPQtNCw0LvRj9C10LzRi9C8INGN0LvQtdC80LXQvdGC0LDQvFxuICAgKi9cblx0XHRmdW5jdGlvbiBtYXJrRGVsZXRlRWwocmVzdWx0KSB7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHR2YXIgb2JqID0gcmVzdWx0W2ldO1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IG9iai5pZHhBcnIubGVuZ3RoOyBqICs9IDEpIHtcblx0XHRcdFx0XHRfbW1bb2JqLmlkeEFycltqXV0uc3RhdGUgPSAnZGVsZXRlJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuICAgKiDQoNCw0YHRgdGH0LXRgiDQvtGH0LrQvtCyINC30LAg0YXQvtC0XG4gICAqL1xuXHRcdGZ1bmN0aW9uIGNhbGN1bGF0ZVBvaW50c0luZm8ocmVzdWx0KSB7XG5cdFx0XHRfc2VsZi5wb2ludHMubGFzdERlbC5sZW5ndGggPSAwO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0dmFyIHR5cGUgPSByZXN1bHRbaV0udHlwZTtcblx0XHRcdFx0dmFyIHBvaW50cyA9IGRyRmlsZWRGYWN0b3J5LnBvaW50c01hcFt0eXBlXSAqIHJlc3VsdFtpXS5sZW5ndGg7XG5cdFx0XHRcdF9zZWxmLnBvaW50cy5sYXN0UG9pbnRzID0gcG9pbnRzO1xuXHRcdFx0XHRfc2VsZi5wb2ludHMuYWxsUG9pbnRzICs9IHBvaW50cztcblx0XHRcdFx0X3NlbGYucG9pbnRzLmxhc3REZWwucHVzaChyZXN1bHRbaV0ubGVuZ3RoICsgJyAnICsgdHlwZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG4gICAqINCV0YHQu9C4INC90LDQtCDQv9GD0YHRgtGL0LzQuCDQvNC10YHRgtCw0LzQuCDQvtGB0YLQsNC70LjRgdGMINGE0LjQs9GD0YDRiyAtINC+0L/Rg9GB0LrQsNC10Lwg0LjRhVxuICAgKiDQkNC70LPQvtGA0LjRgtC8OlxuICAgKiAtINCx0LXRgNGR0Lwg0YHRgtC+0LvQsdC10YYg0Lgg0L/QtdGA0LXQsdC40YDQsNC10Lwg0LXQs9C+INGB0L3QuNC30YNcbiAgICogLSDQtdGB0LvQuCDQv9C+0L/QsNC00LDQtdC8INC90LAg0L/Rg9GB0YLQvtC5INGN0LvQtdC80LXQvdGCLCDQt9Cw0LTQsNGR0Lwg0LXQvNGDINC/0L7Qt9C40YbQuNGOIC5yb3cgPSBzaGlmdENvdW50INC4INGD0LLQtdC70LjRh9C40LLQsNC10Lwg0YHRh9C10YLRh9C40Logc2hpZnRDb3VudFxuICAgKiDRgi7QtS4g0LXRgdC70Lgg0L/QtdGA0LLRi9C5INC/0YPRgdGC0L7QuSDRjdC70LXQvNC10L3RgiAtINC+0L0g0LfQsNC50LzQtdGCINC/0LXRgNCy0YPRjiDRgdGC0YDQvtC60YMg0LIg0YHRgtC+0LHQu9GG0LUsINC10YHQu9C4INCy0YLQvtGA0L7QuSAtINCy0YLQvtGA0YPRjiDQuCDRgi7QtC5cbiAgICogLSDQtdGB0LvQuCDQv9C+0L/QsNC00LDQtdGC0YHRjyDQvdC1INC/0YPRgdGC0L7QuSDRjdC70LXQvNC10L3RgiAtINC/0LXRgNC10LzQtdGJ0LDQtdC8INC10LPQviDQstC90LjQtyDQvdCwIHNoaWZ0Q291bnRcbiAgICovXG5cdFx0ZnVuY3Rpb24gbW92ZVRvcEVsKCkge1xuXHRcdFx0dmFyIHNpemUgPSBfc2VsZi5zaXplO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgc2hpZnRDb3VudCA9IDA7IGkgPCBzaXplOyBpICs9IDEpIHtcblx0XHRcdFx0bmV4dDogZm9yICh2YXIgaiA9IHNpemUgLSAxOyBqID49IDA7IGogLT0gMSkge1xuXHRcdFx0XHRcdGlmIChfbW1baSArIGogKiBzaXplXS50eXBlID09PSAnZW1wdHknKSB7XG5cdFx0XHRcdFx0XHRfbW1baSArIGogKiBzaXplXS50b1JvdyA9IHNoaWZ0Q291bnQ7XG5cdFx0XHRcdFx0XHRfbW1baSArIGogKiBzaXplXS5yb3cgPSBzaGlmdENvdW50O1xuXHRcdFx0XHRcdFx0c2hpZnRDb3VudCsrO1xuXHRcdFx0XHRcdFx0Y29udGludWUgbmV4dDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKHNoaWZ0Q291bnQgPiAwKSBfbW1baSArIGogKiBzaXplXS5yb3cgKz0gK3NoaWZ0Q291bnQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2hpZnRDb3VudCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0LyoqXG4gICAqINCj0LTQsNC70Y/QtdC8INC+0LHRitC10LrRgtGLINC+0LTQuNC90LDQutC+0LLQvtCz0L4g0YLQuNC/0LAsINC10YHQu9C4INC40YUg0LHQvtC70YzRiNC1INGC0YDRkdGFINCyINGB0YLRgNC+0LrQtSDQuNC70Lgg0LIg0LrQvtC70L7QvdC60LVcbiAgICovXG5cdFx0ZnVuY3Rpb24gZGVsZXRlRWxlbWVudHMoZGVsQXJyKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlbEFyci5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHR2YXIgbGluZSA9IGRlbEFycltpXTtcblxuXHRcdFx0XHQvLyDRg9C00LDQu9GP0LXQvNGL0Lwg0Y/Rh9C10LnQutCw0Lwg0L/RgNC40YHQstCw0LjQstCw0LXQvCDRgtC40L8gXCJlbXB0eVwiXG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgbGluZS5pZHhBcnIubGVuZ3RoOyBqICs9IDEpIHtcblx0XHRcdFx0XHRfbW1bbGluZS5pZHhBcnJbal1dLnR5cGUgPSAnZW1wdHknO1xuXHRcdFx0XHR9IC8vINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8INC40Lwg0YHRgtCw0YLRg9GBIFwiZGVmYXVsdFwiXG5cdFx0XHRcdGZvciAodmFyIF9qID0gMDsgX2ogPCBfbW0ubGVuZ3RoOyBfaiArPSAxKSB7XG5cdFx0XHRcdFx0X21tW19qXS5zdGF0ZSA9ICdkZWZhdWx0Jztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8qKlxuICAgKiDQn9GA0L7QstC10YDQutCwINC90LAg0L/QtdGA0LXRgdC10LrQsNGO0YnQuNC10YHRjyDRgdGC0YDQvtC60Lgv0YHRgtC+0LvQsdGG0YsuINCf0YDQuNC+0YDQuNGC0LXRglxuICAgKiAtINGB0YLRgNC+0LrQsC/RgdGC0L7Qu9Cx0LXRhiDRgSDQsdC+0LvRjNGI0LXQuSDQtNC70LjQvdC90L7QuVxuICAgKiAtINCz0L7RgNC40LfQvtC90YLQsNC70YzQvdCw0Y8g0YHRgtGA0L7QutCwICjQv9GA0Lgg0YDQsNCy0LXRgNGB0YLQstC1INC00LvQuNC90Ysg0L/QtdGA0LXRgdC10LrQsNGO0YnQuNGF0YHRjyDRgdGC0YDQvtC60Lgg0Lgg0YHRgtC+0LvQsdGG0LApXG4gICAqL1xuXHRcdGZ1bmN0aW9uIGNoZWNrQ3Jvc3NpbmdMaW5lcyhyZXN1bHQpIHtcblx0XHRcdG5leHQ6IGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdHZhciBsaW5lID0gcmVzdWx0W2ldLFxuXHRcdFx0XHQgICAgbGVuZ3RoID0gbGluZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBsaW5lLmlkeEFyci5sZW5ndGg7IGogKz0gMSkge1xuXHRcdFx0XHRcdHZhciBpZHggPSBsaW5lLmlkeEFycltqXTtcblxuXHRcdFx0XHRcdGlmIChpIDwgcmVzdWx0Lmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdGZvciAodmFyIGsgPSBpICsgMTsgayA8IHJlc3VsdC5sZW5ndGg7IGsgKz0gMSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgbGluZTIgPSByZXN1bHRba10sXG5cdFx0XHRcdFx0XHRcdCAgICBsZW5ndGgyID0gbGluZTIubGVuZ3RoO1xuXG5cdFx0XHRcdFx0XHRcdGlmICghfmxpbmUyLmlkeEFyci5pbmRleE9mKGlkeCkpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAobGVuZ3RoID4gbGVuZ3RoMikge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnNwbGljZShrLCAxKTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGxlbmd0aCA8IGxlbmd0aDIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRpLS07XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250aW51ZSBuZXh0O1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAobGVuZ3RoID09PSBsZW5ndGgyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQuc3BsaWNlKGssIDEpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGdldEluZGV4QnlSb3dDb2wocm93LCBjb2wpIHtcblx0XHRcdHJldHVybiByb3cgKiBfc2VsZi5zaXplICsgY29sO1xuXHRcdH1cblxuXHRcdC8qKlxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IHB1YmxpYyBtZXRob2RzID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqL1xuXG5cdFx0LyoqXG4gICAqINCc0LXRgtC+0LQg0YHQtdGA0LLQuNGB0LAg0LLQvtC30LLRgNCw0YnQsNC10YIg0L3QvtCy0YvQuSDQvNCw0YHRgdC40LIg0LTQu9C40L3QvtC5IHNpemUqc2l6ZVxuICAgKi9cblx0XHR0aGlzLmNyZWF0ZU5ld0FyciA9IGZ1bmN0aW9uIChzaXplKSB7XG5cdFx0XHRfbW0ubGVuZ3RoID0gMDtcblx0XHRcdHRoaXMuc2l6ZSA9IHNpemUgfHwgZHJGaWxlZEZhY3Rvcnkuc2l6ZTtcblxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzaXplICogc2l6ZTsgaSsrKSB7XG5cdFx0XHRcdHZhciB0eXBlID0gcmV0dXJuVHlwZUZvck5ld0VsZW1lbnQoKTtcblx0XHRcdFx0X21tLnB1c2goe1xuXHRcdFx0XHRcdGlkOiBpLFxuXHRcdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdFx0c3RhdGU6ICdkZWZhdWx0J1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0c2V0Q29vcmRzVG9FbGVtZW50cygpO1xuXG5cdFx0XHRyZXR1cm4gX21tO1xuXHRcdH07XG5cblx0XHQvKipcbiAgICog0JfQsNC00LDQtdC8INGB0L7RgdGC0L7Rj9C90LjQtSDQsdC70LjQttCw0LnRiNC40Lwg0Y3Qu9C10LzQtdC90YLQsNC8INC+0YIg0LLRi9C00LXQu9C10L3QvdC+0LPQvlxuICAgKi9cblx0XHR0aGlzLnNldEFjdGl2ZUNlbGwgPSBmdW5jdGlvbiAoaWR4LCBzdGF0ZSkge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBfbW0ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0X21tW2ldLnN0YXRlID0gJ2RlZmF1bHQnO1xuXHRcdFx0fV9tbVtpZHhdLnN0YXRlID0gc3RhdGUgPyAnYWN0aXZlJyA6ICdkZWZhdWx0JztcblxuXHRcdFx0dmFyIHJvdyA9IE1hdGguZmxvb3IoaWR4IC8gX3NlbGYuc2l6ZSk7XG5cdFx0XHR2YXIgY29sID0gaWR4IC0gTWF0aC5mbG9vcihpZHggLyBfc2VsZi5zaXplKSAqIF9zZWxmLnNpemU7XG5cblx0XHRcdHZhciBjU3RhdGUgPSBzdGF0ZSA/ICdwYXNzaXZlJyA6ICdkZWZhdWx0JztcblxuXHRcdFx0aWYgKGNvbCA+IDAgJiYgY29sIDwgX3NlbGYuc2l6ZSAtIDEpIHtcblx0XHRcdFx0X21tW2lkeCAtIDFdLnN0YXRlID0gY1N0YXRlO1xuXHRcdFx0XHRfbW1baWR4ICsgMV0uc3RhdGUgPSBjU3RhdGU7XG5cdFx0XHR9IGVsc2UgaWYgKGNvbCA9PT0gMCkge1xuXHRcdFx0XHRfbW1baWR4ICsgMV0uc3RhdGUgPSBjU3RhdGU7XG5cdFx0XHR9IGVsc2UgaWYgKGNvbCA9PT0gX3NlbGYuc2l6ZSAtIDEpIHtcblx0XHRcdFx0X21tW2lkeCAtIDFdLnN0YXRlID0gY1N0YXRlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocm93ID4gMCAmJiByb3cgPCBfc2VsZi5zaXplIC0gMSkge1xuXHRcdFx0XHRfbW1baWR4IC0gX3NlbGYuc2l6ZV0uc3RhdGUgPSBjU3RhdGU7XG5cdFx0XHRcdF9tbVtpZHggKyBfc2VsZi5zaXplXS5zdGF0ZSA9IGNTdGF0ZTtcblx0XHRcdH0gZWxzZSBpZiAocm93ID09PSAwKSB7XG5cdFx0XHRcdF9tbVtpZHggKyBfc2VsZi5zaXplXS5zdGF0ZSA9IGNTdGF0ZTtcblx0XHRcdH0gZWxzZSBpZiAocm93ID09PSBfc2VsZi5zaXplIC0gMSkge1xuXHRcdFx0XHRfbW1baWR4IC0gX3NlbGYuc2l6ZV0uc3RhdGUgPSBjU3RhdGU7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8qKlxuICAgKiDQnNC10L3Rj9C10Lwg0LzQtdGB0YLQsNC80Lgg0Y/Rh9C10LnQutC4LiDQkNC70LPQvtGA0LjRgtC8OlxuICAgKiAtINGB0L3QsNGH0LDQu9CwINC80LXQvdGP0LXQvCDQv9Cw0YDQsNC80LXQvdGC0YDRiyBjb2wvcm93ICjQtNC70Y8g0LDQvdC40LzQsNGG0LgpLlxuICAgKiAtINC/0L7RgdC70LUg0L/QviDRgtCw0LnQvNCw0YPRgtGDINC80LXQvdGP0LXQvCDQtNCw0L3QvdGL0LUg0L7QsdGK0LXQutGC0L7QsiDQsiDRgdCw0LzQvtC8INC80LDRgdGB0LjQstC1ICjRhNC40LPRg9GA0YMpXG4gICAqL1xuXHRcdHRoaXMucmVwbGFjZUVsZW1lbnRzID0gZnVuY3Rpb24gKGlkeDEsIGlkeDIpIHtcblx0XHRcdHNoaWZ0VG9FbChpZHgxLCBpZHgyKTtcblxuXHRcdFx0JHRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRfbW0uc29ydChzb3J0QXJyQnlSb3dDb2wpO1xuXG5cdFx0XHRcdHJlY3VyRGVsZXRlRWwoKTtcblx0XHRcdH0sIDIwMCk7XG5cdFx0fTtcblx0fV0pO1xufSkoKTtcbid1c2Ugc3RyaWN0JztcblxuKGZ1bmN0aW9uICgpIHtcblx0YW5ndWxhci5tb2R1bGUoJ2FwcCcpLmZhY3RvcnkoJ2RyRmlsZWRGYWN0b3J5JywgZnVuY3Rpb24gKCkge1xuXHRcdHZhciB0eXBlcyA9IFsnc3F1YXJlJywgJ2NpcmNsZScsICd0cmlhbmdsZSddO1xuXG5cdFx0dmFyIHN0YXRlcyA9IFsnZGVmYXVsdCcsICdhY3RpdmUnLCAncGFzc2l2ZScsICdub3RlJ107XG5cblx0XHR2YXIgcG9pbnRzTWFwID0ge1xuXHRcdFx0c3F1YXJlOiAxMCxcblx0XHRcdHRyaWFuZ2xlOiAyMCxcblx0XHRcdGNpcmNsZTogMzBcblx0XHR9O1xuXG5cdFx0dmFyIHNpemUgPSA5O1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHR5cGVzOiB0eXBlcyxcblx0XHRcdHN0YXRlczogc3RhdGVzLFxuXHRcdFx0c2l6ZTogc2l6ZSxcblx0XHRcdHBvaW50c01hcDogcG9pbnRzTWFwXG5cdFx0fTtcblx0fSk7XG59KSgpO1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4oZnVuY3Rpb24gKCkge1xuXHRhbmd1bGFyLm1vZHVsZSgnYXBwJykuZGlyZWN0aXZlKCdkck1lbnUnLCBbJyR0ZW1wbGF0ZUNhY2hlJywgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG5cdFx0ZnVuY3Rpb24gZHJNZW51TGluaygkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0aW1lb3V0KSB7fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGxpbms6IGRyTWVudUxpbmssXG5cdFx0XHRyZXN0cmljdDogJ0FFQycsXG5cdFx0XHRzY29wZToge30sXG5cdFx0XHR0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCdkck1lbnUvZHJNZW51Lmh0bWwnKSxcblx0XHRcdGNvbnRyb2xsZXI6IGRyTWVudUN0cmwsXG5cdFx0XHRjb250cm9sbGVyQXM6ICdtJyxcblx0XHRcdGJpbmRUb0NvbnRyb2xsZXI6IHt9XG5cdFx0fTtcblx0fV0pO1xuXG5cdHZhciBkck1lbnVDdHJsID0gZnVuY3Rpb24gKCkge1xuXHRcdGZ1bmN0aW9uIGRyTWVudUN0cmwoJHNjb3BlLCAkdGltZW91dCwgZHJGaWxlZEZhY3RvcnksIGRyRmllbGRTZXJ2aWNlKSB7XG5cdFx0XHRfY2xhc3NDYWxsQ2hlY2sodGhpcywgZHJNZW51Q3RybCk7XG5cblx0XHRcdHRoaXMuZHJGaWxlZEZhY3RvcnkgPSBkckZpbGVkRmFjdG9yeTtcblx0XHRcdHRoaXMuZHJGaWVsZFNlcnZpY2UgPSBkckZpZWxkU2VydmljZTtcblx0XHR9XG5cblx0XHRfY3JlYXRlQ2xhc3MoZHJNZW51Q3RybCwgW3tcblx0XHRcdGtleTogJ25ld0dhbWUnLFxuXHRcdFx0dmFsdWU6IGZ1bmN0aW9uIG5ld0dhbWUoZSwgc2l6ZSkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdHRoaXMuZHJGaWxlZEZhY3Rvcnkuc2l6ZSA9IHNpemU7XG5cdFx0XHRcdHRoaXMuZHJGaWVsZFNlcnZpY2UuY3JlYXRlTmV3QXJyKHNpemUpO1xuXHRcdFx0XHR0aGlzLmRyRmllbGRTZXJ2aWNlLnJlc2V0KCk7XG5cdFx0XHR9XG5cdFx0fV0pO1xuXG5cdFx0cmV0dXJuIGRyTWVudUN0cmw7XG5cdH0oKTtcblxuXHRkck1lbnVDdHJsLiRpbmplY3QgPSBbJyRzY29wZScsICckdGltZW91dCcsICdkckZpbGVkRmFjdG9yeScsICdkckZpZWxkU2VydmljZSddO1xufSkoKTsiXX0=
